# Interactive Heatmap - RS Aid

This project uses Python to generate an interactive heatmap from aid request data collected during the floods in Rio Grande do Sul, Brazil.

The goal is to provide a clear visual tool to identify areas with the highest concentration of requests, helping to optimize rescue and logistics efforts. The raw data for this analysis was consolidated by the **Salva RS** initiative.

## What the Code Does

The script processes location data to generate an `.html` map with the following features:

1.  **Data Aggregation:** It groups multiple aid requests made from the same coordinates and calculates the **average** number of people (`sum`) to accurately represent the need at that point.
2.  **Noise Filtering:** It uses the `DBSCAN` clustering algorithm to focus on the main data cluster, removing geographically isolated points that could be errors.
3.  **Hybrid Visualization:**
    * It creates a **smooth, visually intuitive heatmap**. The heat intensity is generated by the density of requests, achieved by repeating each coordinate a number of times proportional to its need.
    * It adds **clickable points** on top of the map. When an area is clicked, a pop-up displays the "probability" of that point and the average total of occurrences.
4.  **Robust Probability Calculation:** The "probability" (a value from 0 to 1) is not a simple division by the maximum. It is calculated using a **percentile rank**, which creates a more evenly distributed and robust scale that is resistant to extreme outliers.

## How to Use

1.  **Set Up the Environment:**
    * Place your data file (`data.csv` or the raw CSV) in the same folder as the script.
    * Install all necessary libraries by running the following command in your terminal:
        ```bash
        pip install -r requirements.txt
        ```

2.  **Run the Script:**
    * Execute the Python script from your terminal:
        ```bash
        python heatmap.py
        ```

3.  **View the Map:**
    * After the script runs, a file named `rs_aid_heatmap.html` will be created. **Open this file in your web browser** to view and interact with the heatmap.
